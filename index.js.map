{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\n\nimport '../css/styles.css';\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nlet lightbox;\n\nconst showInvalidDateToast = () => {\n  iziToast.show({\n    title: \"Invalid Request\",\n    message: \"Sorry, there are no images matching your search query. Please try again!\",\n    backgroundColor: \"#ff6666\",\n    position: \"topRight\",\n  });\n};\n\nfunction createPhotoCard({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) {\n    const card = document.createElement(\"li\");\n    card.classList.add('photo-card');\n  \n    card.innerHTML = `\n      <a href=\"${largeImageURL}\" class=\"gallery-link\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n      </a>\n      <div class=\"info\">\n        <div class=\"info-item\">\n          <span><b>Likes</b></span>\n          <span>${likes}</span>\n        </div>\n        <div class=\"info-item\">\n          <span><b>Views</b></span>\n          <span>${views}</span>\n        </div>\n        <div class=\"info-item\">\n          <span><b>Comments</b></span>\n          <span>${comments}</span>\n        </div>\n        <div class=\"info-item\">\n          <span><b>Downloads</b></span>\n          <span>${downloads}</span>\n        </div>\n      </div>\n    `;\n  \n    gallery.appendChild(card);\n  }\n  \n  function renderGallery(images) {\n    gallery.innerHTML = \"\";\n  \n    images.forEach(image => {\n      createPhotoCard(image);\n    });\n  \n    if (!lightbox) {\n      lightbox = new SimpleLightbox(\".gallery a\", {\n        captionsData: \"alt\",\n        captionDelay: 250\n      });\n    } else {\n      lightbox.refresh();\n    }\n  }\n \n  export { showInvalidDateToast, createPhotoCard, renderGallery, gallery };","import '../css/styles.css';\nimport { createPhotoCard, renderGallery, showInvalidDateToast, gallery } from \"./render-functions\";\n\nconst API_KEY = \"49334918-ea87b03a35c8c75cd9fd8a30d\";\nconst options = {\n    key: API_KEY,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\",\n};\n\nfunction showLoader(isLoading = false) {\n    const loader = document.querySelector(\".js-loader\");\n    loader.style.display = isLoading ? \"block\" : \"none\";\n}\n\nfunction handleSearch(event) {\n    console.log(\"banana-start\")\n    event.preventDefault();\n    showLoader(true);\n\n    const input = event.target.querySelector(\"input[name='query']\");\n    if (!input || input.value.trim() === \"\") {\n        console.log(\"Поле пошуку порожнє!\");\n        showLoader(false);\n        input.value = \"\";\n\n        return;\n    }\n\n    const query = input.value.trim();\n    console.log(\"Шукаємо:\", query);\n\n    getPhotos(query)\n        .catch((error) => console.error(\"Помилка при отриманні фото:\", error))\n        .finally(() => {\n            showLoader(false);\n            input.value = \"\";\n        });\n}\n\nfunction getPhotos(query) {\n    const BASE_URL = \"https://pixabay.com/api/\";\n    const url = `${BASE_URL}?${new URLSearchParams({ ...options, q: query })}`;\n\n    return fetch(url)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(`HTTP error! Status: ${response.status}`);\n            }\n            return response.json();\n        })\n        .then(data => {\n            if (data.hits.length === 0) {\n                console.log('Нічого не знайдено.');\n                gallery.innerHTML = \"\";\n                showInvalidDateToast();\n                return;\n            }\n\n            data.hits.forEach(image => {\n                const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = image;\n\n                createPhotoCard({ webformatURL, largeImageURL, tags, likes, views, comments, downloads });\n                renderGallery(data.hits)\n            });\n        })\n        .catch(error => console.error(\"Помилка при отриманні даних:\", error));\n}\n\nexport { handleSearch, getPhotos };","const listener = document.querySelector(\".form\");\n\nimport { handleSearch } from \"./js/pixabay-api.js\";\n\nlistener.addEventListener(\"submit\", handleSearch);"],"names":["gallery","lightbox","showInvalidDateToast","iziToast","createPhotoCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","card","renderGallery","images","image","SimpleLightbox","API_KEY","options","showLoader","isLoading","loader","handleSearch","event","input","query","getPhotos","error","url","response","data","listener"],"mappings":"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"}